graph TD
    __init__ --> reset
    reset --> render_for_ml
    render_for_ml --> render
    render_for_ml --> add_memory_to_render
    step --> append_agent_stats
    step --> render_for_ml
    step --> update_reward
    step --> check_if_done
    step --> save_and_print_info
    add_video_frame --> render
    add_video_frame --> render_for_ml
    update_reward --> save_screenshot
    save_and_print_info --> clean_up
    save_and_print_info --> render
    clean_up --> finish_video
    clean_up --> render
    save_screenshot --> render